#:kivy 1.1.0

<Root>:
    # Top
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'top'
        Label:
            id: current_file
            text: 'pic view'
            size_hint_x: 0.2
            size_hint_y: 0.04
    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'top'
        Button:
            id: prev_top_left
            size_hint_x: 0.2
            size_hint_y: 0.04
            text: 'Prev'
            on_press: root.prev_image()
    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'top'
        Button:
            id: next_top_right
            text: 'Next'
            size_hint_x: 0.2
            size_hint_y: 0.035
            on_press: root.next_image()
    # Center
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'
        AsyncImage:
            id: page
            source: 'images/black_screen.png'
            size_hint_x: .9
            size_hint_y: .9
            pos_hint: {'center_x':.5, 'center_y':.5}
    # Bottom
    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'bottom'
        Button:
            id: prev_bottom_left
            text: 'Prev'
            size_hint_x: 0.4
            size_hint_y: 0.04
            on_press: root.prev_image()
    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        Button:
            id: next_bottom_right
            text: 'Next'
            size_hint_x: 0.4
            size_hint_y: 0.04
            on_press: root.next_image()
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'bottom'
        Button:
            text: 'Load'
            size_hint_x: 0.2
            size_hint_y: 0.04
            on_release: root.show_load()

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: 'vertical'
        FileChooserListView:
            id: filechooser
            path: root.current_path

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: 'Cancel'
                on_release: root.cancel(filechooser.path)
            Button:
                text: 'Load'
                on_release: root.load(filechooser.path, filechooser.selection)


<CustomPopup>:
    size_hint: .20,.20
    auto_dismiss: False
    Button:
        text: 'Dismiss'
        size_hint_x: 1
        size_hint_y: 1
        on_press: root.dismiss()

<ImagePage>:
    on_size: self.center = win.Window.center
    size: image.size
    size_hint: None, None
    Image:
        source: root.source
